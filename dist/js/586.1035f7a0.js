"use strict";(self["webpackChunkvue_week7"]=self["webpackChunkvue_week7"]||[]).push([[586],{3586:function(t,c,o){o.r(c),o.d(c,{default:function(){return H}});var s=o(6252),i=o(3577),e=o(9963);const d={class:"product"},r={class:"row justify-content-between"},a={class:"col-lg-6"},l={class:"product-img"},u=["src"],n={class:"col-lg-5"},p={class:"product-content"},h={class:"fw-bold"},v={class:"product-category mb-3"},_={class:"p-product-description mb-3"},g={key:0,class:"card-text mb-3"},w={class:"fw-bold"},m=(0,s._)("small",null,"售價 $",-1),b={key:1,class:"card-text mb-3 d-flex"},k={class:"text-danger fw-bold me-2"},y=(0,s._)("small",null,"特價 $",-1),f={class:"text-decoration-line-through fw-bold text-black-50"},x=(0,s._)("small",null,"售價 $",-1),$={class:"mb-3"},z=["value"],C={key:0,class:"spinner-border spinner-border-sm",role:"status"},D=(0,s._)("span",{class:"visually-hidden"},"Loading...",-1),q=[D],L={key:1},U={class:"mt-4"},I=["onClick"];function P(t,c,o,D,P,Q){const T=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",r,[(0,s._)("div",a,[(0,s._)("div",l,[(0,s._)("img",{src:P.product.imageUrl,class:"img-fluid",alt:""},null,8,u)])]),(0,s._)("div",n,[(0,s._)("div",p,[(0,s._)("h2",h,(0,i.zw)(P.product.title),1),(0,s._)("div",v,(0,i.zw)(P.product.category),1),(0,s._)("div",_,(0,i.zw)(P.product.description),1),P.product.price===P.product.origin_price?((0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("div",w,[m,(0,s.Uk)(" "+(0,i.zw)(P.product.origin_price),1)])])):((0,s.wg)(),(0,s.iD)("div",b,[(0,s._)("div",k,[y,(0,s.Uk)(" "+(0,i.zw)(P.product.price),1)]),(0,s._)("div",f,[x,(0,s.Uk)(" "+(0,i.zw)(P.product.origin_price),1)])])),(0,s._)("div",$,[(0,s.wy)((0,s._)("select",{class:"form-select",name:"productItemQty",id:"productItemQty","onUpdate:modelValue":c[0]||(c[0]=t=>P.qty=t)},[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(10,(t=>(0,s._)("option",{value:t,key:`${P.product.id} + ${t}`},(0,i.zw)(t),9,z))),64))],512),[[e.bM,P.qty]])]),(0,s._)("button",{class:"btn btn-dark w-100",onClick:c[1]||(c[1]=t=>Q.addToCart(P.product.id,P.qty))},[P.isLoading===P.product.id?((0,s.wg)(),(0,s.iD)("div",C,q)):((0,s.wg)(),(0,s.iD)("div",L," 放入購物車 "))])])])]),(0,s._)("div",U,[(0,s.Wm)(T,{to:"/products",custom:""},{default:(0,s.w5)((({navigate:t})=>[(0,s._)("button",{onClick:t,role:"link",class:"btn btn-dark",type:"button"},"回產品列表",8,I)])),_:1})])])}var Q={data(){return{product:[],qty:1,isLoading:""}},methods:{getProduct(){const{id:t}=this.$route.params,c=`https://vue3-course-api.hexschool.io/v2/api/yuchi-hexschool/product/${t}`;this.$http.get(c).then((t=>{this.product=t.data.product}))},addToCart(t,c=1){const o={product_id:t,qty:c},s="https://vue3-course-api.hexschool.io/v2/api/yuchi-hexschool/cart";this.isLoading=t,this.$http.post(s,{data:o}).then((()=>{alert("已放入購物車"),this.isLoading="",this.$router.push("/cart")})).catch((t=>{alert(t)}))}},mounted(){this.getProduct()}},T=o(3744);const j=(0,T.Z)(Q,[["render",P]]);var H=j}}]);
//# sourceMappingURL=586.1035f7a0.js.map