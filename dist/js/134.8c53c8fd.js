"use strict";(self["webpackChunkvue_week7"]=self["webpackChunkvue_week7"]||[]).push([[134],{5134:function(s,t,i){i.r(t),i.d(t,{default:function(){return Z}});var a=i(6252),l=i(3577);const c={class:"products"},d=(0,a._)("div",{class:"page-title"},"產品列表",-1),e={class:"row"},o={class:"product-item card"},r={class:"card-img"},n={class:"img"},u=["src"],p={class:"pt-3"},g={class:"card-title mb-2"},h={key:0,class:"card-text mb-3"},v={class:"fw-bold"},_=(0,a._)("small",null,"售價 $",-1),b={key:1,class:"card-text mb-3 d-flex"},w={class:"text-danger fw-bold me-2"},k=(0,a._)("small",null,"特價 $",-1),m={class:"text-decoration-line-through fw-bold text-black-50"},f=(0,a._)("small",null,"售價 $",-1),y={class:"row"},x={class:"col-8"},C=["onClick"],D={class:"col-4"},L=["onClick","disabled"],$={key:0,class:"spinner-border spinner-border-sm",role:"status"},z=(0,a._)("span",{class:"visually-hidden"},"Loading...",-1),U=[z],P={key:1},T=(0,a._)("i",{class:"bi bi-cart-plus"},null,-1),q=[T];function H(s,t,i,z,T,H){const K=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",c,[d,(0,a._)("div",e,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(T.products,(s=>((0,a.wg)(),(0,a.iD)("div",{class:"col-6 col-lg-3 mb-3",key:s.id},[(0,a._)("div",o,[(0,a._)("div",r,[(0,a._)("span",n,[(0,a._)("img",{src:s.imageUrl,class:"card-img-top"},null,8,u)])]),(0,a._)("div",p,[(0,a._)("h5",g,(0,l.zw)(s.title),1),s.price===s.origin_price?((0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("div",v,[_,(0,a.Uk)(" "+(0,l.zw)(s.origin_price),1)])])):((0,a.wg)(),(0,a.iD)("div",b,[(0,a._)("div",w,[k,(0,a.Uk)(" "+(0,l.zw)(s.price),1)]),(0,a._)("div",m,[f,(0,a.Uk)(" "+(0,l.zw)(s.origin_price),1)])])),(0,a._)("div",y,[(0,a._)("div",x,[(0,a.Wm)(K,{to:`/product/${s.id}`,custom:""},{default:(0,a.w5)((({navigate:s})=>[(0,a._)("button",{onClick:s,role:"link",class:"btn btn-dark w-100",type:"button"},"詳細資料",8,C)])),_:2},1032,["to"])]),(0,a._)("div",D,[(0,a._)("button",{class:"btn btn-danger w-100",type:"button",onClick:t=>H.addToCart(s.id),disabled:T.isLoading===s.id},[T.isLoading===s.id?((0,a.wg)(),(0,a.iD)("div",$,U)):((0,a.wg)(),(0,a.iD)("div",P,q))],8,L)])])])])])))),128))])])}var K={data(){return{products:[],isLoading:""}},methods:{getProducts(){const s="https://vue3-course-api.hexschool.io/v2/api/yuchi-hexschool/products/all";this.$http.get(s).then((s=>{this.products=s.data.products}))},addToCart(s,t=1){const i={product_id:s,qty:t},a="https://vue3-course-api.hexschool.io/v2/api/yuchi-hexschool/cart";this.isLoading=s,this.$http.post(a,{data:i}).then((s=>{alert(s.data.message),this.isLoading=""}))}},mounted(){this.getProducts()}},W=i(3744);const Y=(0,W.Z)(K,[["render",H]]);var Z=Y}}]);
//# sourceMappingURL=134.8c53c8fd.js.map