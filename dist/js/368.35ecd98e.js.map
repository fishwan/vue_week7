{"version":3,"file":"js/368.35ecd98e.js","mappings":"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","sources":["webpack://vue_week7/./src/views/Dashboard/ProductsView.vue","webpack://vue_week7/./src/components/ProductModal.vue","webpack://vue_week7/./src/components/ProductModal.vue?b0ff","webpack://vue_week7/./src/views/Dashboard/ProductsView.vue?f8f9"],"sourcesContent":["<template>\r\n  <div>\r\n    <VLoading :active=\"isLoading\" :z-index=\"1060\"></VLoading>\r\n    <div class=\"d-grid gap-2 d-md-flex justify-content-between mb-4\">\r\n      <h1>產品列表</h1>\r\n      <button type=\"button\" class=\"btn btn-dark\" @click=\"openModal(true)\">建立新產品</button>\r\n    </div>\r\n    <table class=\"table table-hover\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">產品</th>\r\n          <th scope=\"col\" width=\"100\">原價</th>\r\n          <th scope=\"col\" width=\"100\">售價</th>\r\n          <th scope=\"col\" width=\"100\">狀態</th>\r\n          <th scope=\"col\" width=\"120\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"itemProduct in products\" :key=\"itemProduct.id\">\r\n          <td>{{ itemProduct.title }}</td>\r\n          <td>{{ itemProduct.origin_price }}</td>\r\n          <td>{{ itemProduct.price }}</td>\r\n          <td>\r\n            <span\r\n              :class=\"{\r\n                'text-success': itemProduct.is_enabled,\r\n                'text-danger': !itemProduct.is_enabled,\r\n              }\"\r\n            >{{ itemProduct.is_enabled ? \"啟用\" : \"未啟用\" }}</span>\r\n          </td>\r\n          <td>\r\n            <div class=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"Basic outlined example\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-dark\"\r\n                @click=\"openModal(false, itemProduct)\"\r\n              >編輯</button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-danger\"\r\n                @click=\"openDelModal(itemProduct)\"\r\n              >刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <PaginationModule :pages=\"pagination\" @get-data=\"getData\"></PaginationModule>\r\n    <!-- 產品MODAL -->\r\n    <ProductModal\r\n    ref=\"productModal\"\r\n    :product=\"tempProduct\" :isNew=\"isNew\"\r\n    @update-product=\"updateProduct\">\r\n    </ProductModal>\r\n    <!-- 刪除產品MODAL -->\r\n    <DelModal ref=\"deleteModal\"\r\n    :item=\"tempProduct\"\r\n    @del-item=\"deleteProduct\">\r\n    </DelModal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ProductModal from '@/components/ProductModal.vue'\r\nimport DelModal from '@/components/DelModal.vue'\r\nimport PaginationModule from '@/components/PaginationModule.vue'\r\n\r\nexport default {\r\n  components: { ProductModal, PaginationModule, DelModal },\r\n  data () {\r\n    return {\r\n      products: {},\r\n      tempProduct: {},\r\n      pagination: {},\r\n      status: {},\r\n      isNew: false,\r\n      isLoading: false,\r\n      currentPage: 1\r\n    }\r\n  },\r\n  methods: {\r\n    getData (page = 1) {\r\n      this.currentPage = page\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(url)\r\n        .then((res) => {\r\n          this.products = res.data.products\r\n          this.pagination = res.data.pagination\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    updateProduct (product) {\r\n      this.tempProduct = product\r\n      let url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let method = 'post'\r\n      let status = '新增產品'\r\n      if (!this.isNew) {\r\n        url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n        method = 'put'\r\n        status = '修改產品'\r\n      }\r\n      this.$http[method](url, { data: this.tempProduct })\r\n        .then((res) => {\r\n          this.$messageState(res, status)\r\n          this.$refs.productModal.closeProductModal()\r\n          this.getData(this.currentPage)\r\n        }).catch((err) => {\r\n          this.$messageState(err.response, status)\r\n        })\r\n    },\r\n    deleteProduct () {\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\r\n      this.$http.delete(url)\r\n        .then((res) => {\r\n          this.$messageState(res, '刪除')\r\n          this.$refs.deleteModal.closeDelModal()\r\n          this.getData(this.currentPage)\r\n        }).catch((err) => {\r\n          this.$messageState(err.response, '刪除')\r\n        })\r\n    },\r\n    openModal (isNew, product) {\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n        this.isNew = true\r\n      } else {\r\n        this.tempProduct = { ...product }\r\n        this.isNew = false\r\n      }\r\n      this.$refs.productModal.openProductModal()\r\n    },\r\n    openDelModal (product) {\r\n      this.tempProduct = { ...product }\r\n      this.$refs.deleteModal.openDelModal()\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getData()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"productModal\"\r\n    tabindex=\"-1\"\r\n    ref=\"modal\"\r\n  >\r\n    <div class=\"modal-dialog modal-xl\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header bg-dark text-white\">\r\n          <h5 class=\"modal-title\" id=\"productModalLabel\">\r\n            <div v-if=\"isNew\">新增產品</div>\r\n            <div v-else>編輯產品</div>\r\n          </h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"row\">\r\n            <!-- 圖片區 -->\r\n            <div class=\"col-md-4\">\r\n                <div class=\"mb-3\">\r\n                  <h4>主要圖片</h4>\r\n                  <!-- 輸入網址 -->\r\n                  <label for=\"productAlbumImg\" class=\"form-label\">輸入網址</label>\r\n                  <input type=\"text\" class=\"form-control mb-3\" id=\"productAlbumImg\" v-model=\"tempProduct.imageUrl\" placeholder=\"輸入圖片網址\">\r\n                  <!-- 上傳圖片 -->\r\n                  <label for=\"uploadProductImg\" class=\"form-label\">上傳圖片</label>\r\n                  <div class=\"mb-3\">\r\n                    <input type=\"file\" name=\"file-to-upload\" id=\"uploadProductImg\" class=\"form-control\"\r\n                    @change=\"uploadImages\"\r\n                    ref=\"fileInput\">\r\n                  </div>\r\n                  <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" alt=\"\">\r\n                </div>\r\n                <h4>多圖新增</h4>\r\n                <div v-if=\"Array.isArray(tempProduct.imagesUrl)\">\r\n                  <div v-for=\"(imgUrl , key) in tempProduct.imagesUrl\" :key=\"key + '12345'\">\r\n                    <input type=\"text\" class=\"form-control mb-3\" v-model=\"tempProduct.imagesUrl[key]\" placeholder=\"輸入圖片網址\">\r\n                    <img class=\"mb-3 img-fluid\" :src=\"tempProduct.imagesUrl[key]\" alt=\"\">\r\n                  </div>\r\n                  <div class=\"d-grid gap-2\">\r\n                    <button v-if=\"!tempProduct.imagesUrl.length || tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1]\"\r\n                    type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click=\"tempProduct.imagesUrl.push('')\">新增圖片</button>\r\n                    <button v-else type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"tempProduct.imagesUrl.pop()\">刪除圖片</button>\r\n                  </div>\r\n                </div>\r\n                <div v-else>\r\n                  <div class=\"d-grid\">\r\n                    <button type=\"button\" class=\"btn btn-outline-primary btn-sm\"\r\n                    @click=\"createImages\">新增圖片</button>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            <!-- 右邊資料區 -->\r\n            <div class=\"col-md-8\">\r\n              <div class=\"mb-3\">\r\n                <label for=\"productTitle\" class=\"form-label\">標題</label>\r\n                <input type=\"text\" v-model=\"tempProduct.title\" class=\"form-control\" name=\"productTitle\" id=\"productTitle\" placeholder=\"標題\">\r\n              </div>\r\n              <div class=\"row\">\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"productCategory\" class=\"form-label\">分類</label>\r\n                  <input type=\"text\" v-model=\"tempProduct.category\" class=\"form-control\" name=\"productCategory\" id=\"productCategory\" placeholder=\"分類\">\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"productUnit\" class=\"form-label\">單位</label>\r\n                  <input type=\"text\" v-model=\"tempProduct.unit\" class=\"form-control\" name=\"productUnit\" id=\"productUnit\" placeholder=\"單位\">\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"productOriginPrice\" class=\"form-label\">原價</label>\r\n                  <input type=\"number\" v-model.number=\"tempProduct.origin_price\" class=\"form-control\" name=\"productOriginPrice\" id=\"productOriginPrice\" placeholder=\"原價\">\r\n                </div>\r\n                <div class=\"mb-3 col-md-6\">\r\n                  <label for=\"productPrice\" class=\"form-label\">售價</label>\r\n                  <input type=\"number\" v-model.number=\"tempProduct.price\" class=\"form-control\" name=\"productPrice\" id=\"productPrice\" placeholder=\"售價\">\r\n                </div>\r\n              </div>\r\n              <hr>\r\n              <div class=\"mb-3\">\r\n                <label for=\"productDescription\" class=\"form-label\">產品描述</label>\r\n                <textarea class=\"form-control\" v-model=\"tempProduct.description\" name=\"productDescription\" id=\"productDescription\" placeholder=\"請輸入產品描述\"></textarea>\r\n              </div>\r\n              <div class=\"mb-3\">\r\n                <label for=\"productContent\" class=\"form-label\">說明內容</label>\r\n                <textarea class=\"form-control\" v-model=\"tempProduct.content\" name=\"productContent\" id=\"productContent\" placeholder=\"請輸入說明內容\"></textarea>\r\n              </div>\r\n              <div class=\"form-check\">\r\n                <input class=\"form-check-input\" v-model=\"tempProduct.is_enabled\" :true-value=\"true\" :false-value=\"false\" type=\"checkbox\" id=\"productIsEnabled\" >\r\n                <label class=\"form-check-label\" for=\"productIsEnabled\">\r\n                是否啟用\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n          <button type=\"button\" class=\"btn btn-dark\" @click=\"$emit('update-product', tempProduct)\">確認</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\n\r\nexport default {\r\n  props: ['product', 'isNew'],\r\n  emits: ['update-product'],\r\n  watch: {\r\n    product () {\r\n      this.tempProduct = this.product\r\n      if (!this.tempProduct.imagesUrl) {\r\n        this.tempProduct.imagesUrl = []\r\n      }\r\n      if (!this.tempProduct.imageUrl) {\r\n        this.tempProduct.imageUrl = ''\r\n      }\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      productModal: '',\r\n      tempProduct: {}\r\n    }\r\n  },\r\n  methods: {\r\n    openProductModal () {\r\n      this.productModal.show()\r\n    },\r\n    closeProductModal () {\r\n      this.productModal.hide()\r\n    },\r\n    createImages () {\r\n      this.tempProduct.imagesUrl = []\r\n      this.tempProduct.imagesUrl.push('')\r\n    },\r\n    uploadImages () {\r\n      const file = this.$refs.fileInput.files[0]\r\n      const formData = new FormData()\r\n      formData.append('file-to-upload', file)\r\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/upload`\r\n      this.$http.post(url, formData, {\r\n        header: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.tempProduct.imageUrl = res.data.imageUrl\r\n            this.$refs.fileInput.value = ''\r\n            this.$messageState(res, '上傳圖片')\r\n          } else {\r\n            this.$refs.fileInput.value = ''\r\n            this.$messageState(res, '上傳圖片')\r\n          }\r\n        }).catch((err) => {\r\n          this.$messageState(err.response, '上傳圖片')\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.productModal = new Modal(this.$refs.modal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=5b6bbf7c\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\YUHSIN\\\\Desktop\\\\vue-week7\\\\vue_week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=1fd275cc\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\YUHSIN\\\\Desktop\\\\vue-week7\\\\vue_week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","width","role","_createElementBlock","_createVNode","_component_VLoading","active","$data","_hoisted_2","type","onClick","$options","_hoisted_4","_Fragment","_renderList","itemProduct","key","id","_toDisplayString","title","origin_price","price","is_enabled","_hoisted_6","_hoisted_7","_component_PaginationModule","pages","onGetData","_component_ProductModal","ref","product","isNew","onUpdateProduct","_component_DelModal","item","onDelItem","tabindex","for","$props","_hoisted_8","_hoisted_13","_hoisted_14","imageUrl","$event","placeholder","_hoisted_15","name","onChange","src","alt","_hoisted_18","Array","isArray","imagesUrl","_hoisted_19","imgUrl","length","push","pop","_hoisted_23","_hoisted_27","_hoisted_30","category","_hoisted_32","unit","_hoisted_34","_hoisted_36","_hoisted_37","_hoisted_39","description","_hoisted_41","content","_hoisted_43","_hoisted_45","_ctx","props","emits","watch","this","tempProduct","data","productModal","methods","openProductModal","show","closeProductModal","hide","createImages","uploadImages","file","$refs","fileInput","files","formData","FormData","append","url","$http","post","header","then","res","success","value","$messageState","catch","err","response","mounted","Modal","modal","__exports__","components","ProductModal","PaginationModule","DelModal","products","pagination","status","isLoading","currentPage","getData","page","get","updateProduct","method","deleteProduct","delete","deleteModal","closeDelModal","openModal","openDelModal","render"],"sourceRoot":""}